<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>State Election Sim</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <style>
    body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial; margin: 18px; color:#111; }
    h1 { margin-bottom: 6px; }
    .controls { display:flex; gap:18px; align-items:center; margin-bottom:14px; }
    .main { display:flex; gap:22px; align-items:flex-start; }
    .panel { padding:12px; border:1px solid #e7e7e7; border-radius:6px; background:#fff; }
    #sliders { width:560px; max-height:68vh; overflow:auto; }
    .group { margin-bottom:12px; }
    .group h4 { margin:6px 0; font-size:0.95rem; }
    .row { display:flex; align-items:center; gap:10px; margin-bottom:6px; }
    .row label { width:160px; font-size:0.92rem; }
    input[type=range] { width:260px; }
    .val { width:56px; text-align:right; font-weight:600; }
    #chart { width:360px; text-align:center; }
    #pie { display:block; margin:0 auto; }
    .legend { margin-top:10px; display:flex; gap:12px; justify-content:center; }
    .legend .sw { width:14px; height:14px; display:inline-block; border-radius:3px; margin-right:6px; }
    .note { margin-top:10px; color:#555; font-size:0.88rem; }
    .error { color:crimson; font-weight:600; }

    /* partisan gradient slider: blue â†’ red */
    input[type=range] {
    -webkit-appearance: none;
    background: linear-gradient(to right, #f03b20, #aaa, #2b8cbe); 
    height: 6px;
    border-radius: 4px;
}

/* remove default chrome track */
input[type=range]::-webkit-slider-runnable-track {
  background: transparent;
}

/* thumb (custom) */
input[type=range]::-webkit-slider-thumb {
  -webkit-appearance: none;
  height: 16px;
  width: 16px;
  border-radius: 50%;
  background: #666;
  border: 1px solid #444;
  cursor: pointer;
  margin-top: -5px;
}

/* Firefox support */
input[type=range]::-moz-range-track {
  background: linear-gradient(to right, #2b8cbe, #aaa, #f03b20);
  height: 6px;
  border-radius: 4px;
}

input[type=range]::-moz-range-thumb {
  height: 16px;
  width: 16px;
  border-radius: 50%;
  background: #666;
  border: 1px solid #444;
  cursor: pointer;
}

  </style>
</head>
<body>
  <h1>State Election Sim</h1>

  <div class="controls">
    <div>
      <label>Year:
        <select id="yearSelect"></select>
      </label>
    </div>

    <div>
      <label>State:
        <select id="stateSelect"></select>
      </label>
    </div>
  </div>

<div>
  <strong>About this simulation:</strong>
  <div class="info-tooltip">
    This simulation lets you explore how different demographic groups affect state-level election outcomes. 
    Sliders show voter lean (blue = Democrat, red = Republican). All calculations assume independence between groups.
    Presets reflect national averages for 2016, 2020, and 2024.
  </div>
</div>





  <div class="main">
    <div id="sliders" class="panel">
    </div>

    <div id="chart" class="panel">
      <h3 id="chartTitle">Select a state</h3>
      <svg id="pie" width="320" height="320"></svg>
      <div id="legend" class="legend"></div>
      <div id="status" class="note"></div>
    </div>
  </div>

  <script src="main.js"></script>
</body>
</html>
